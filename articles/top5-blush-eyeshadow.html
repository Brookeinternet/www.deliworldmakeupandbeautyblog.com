<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deli's Top 5 Must-Have Blush & Eyeshadow Brands | VIP Exclusive</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Firebase SDKs (using v10.12.0) -->
    <script type="module" src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            line-height: 1.6;
            color: #334155;
        }
        .container { max-width: 800px; margin: 0 auto; padding: 20px; }
        .gradient-bg { background: linear-gradient(to right, #fecaca, #fbcfe8); }
        .btn-primary {
            background-color: #ec4899;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            transition: background-color 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .btn-primary:hover { background-color: #db2777; }
        .btn-secondary {
            background-color: #cbd5e1; /* Tailwind gray-300 */
            color: #475569; /* Tailwind gray-600 */
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            transition: background-color 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        .btn-secondary:hover {
            background-color: #94a3b8; /* Tailwind gray-400 */
        }

        /* Styles for the lock overlay */
        .article-container {
            position: relative; /* Needed for absolute positioning of overlay */
            overflow: hidden; /* Hide overflow from blur */
            background-color: #fff;
            border-radius: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 2rem;
        }
        .article-content-wrapper {
            transition: filter 0.3s ease-out, opacity 0.3s ease-out;
        }
        .article-lock-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.95); /* More opaque white overlay */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10;
            text-align: center;
            padding: 20px;
            border-radius: 1rem;
            pointer-events: none; /* Allows interaction by default, will be changed by JS */
            opacity: 0; /* Hidden by default */
            transition: opacity 0.3s ease-out;
        }
        .article-content-wrapper.blurred {
            filter: blur(8px); /* Stronger blur when locked */
            pointer-events: none;
            user-select: none;
            opacity: 0.3; /* More dim when locked */
        }
        .article-lock-overlay.active {
            opacity: 1;
            pointer-events: auto; /* Enable interaction when active */
        }
        /* Modal styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            text-align: center;
            max-width: 400px;
            width: 90%;
        }
        .modal-close-btn {
            @apply mt-4 px-4 py-2 rounded-full bg-gray-200 text-gray-700 hover:bg-gray-300 transition duration-200;
        }
    </style>
</head>
<body>

    <header class="gradient-bg py-6 shadow-md">
        <div class="container mx-auto px-4 flex flex-col md:flex-row justify-between items-center">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4 md:mb-0">Deli's Blog</h1>
            <nav>
                <ul class="flex space-x-6 text-gray-800 text-lg">
                    <li><a href="../index.html" class="hover:underline">Home</a></li>
                    <li><a href="../#blog-posts-list-section" class="hover:underline">All Blog Posts</a></li>
                    <li><a href="../contact.html" class="hover:underline">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container mx-auto px-4 py-12">
        <div class="article-container">
            <div id="article-content-wrapper">
                <!-- START ARTICLE CONTENT FOR "Deli's Top 5 Must-Have Blush & Eyeshadow Brands" -->
                <a href="../#blog-posts-list-section" class="text-pink-500 hover:underline mb-6 inline-block">&larr; Back to Blog Posts</a>
                <h3 class="text-4xl font-bold text-gray-800 mb-6 text-center">Deli's Top 5 Must-Have Blush & Eyeshadow Brands (VIP LOCKED)</h3>
                <div class="article-content max-w-3xl mx-auto text-gray-700">
                    <p class="mb-6">
                        Elevate your entire makeup look with the perfect blush and eyeshadow! These two elements can transform your face, adding dimension, color, and depth. I've curated my top 5 favorite brands for both categories that consistently deliver stunning results for every occasion.
                    </p>
                    <h3 class="text-3xl font-bold text-pink-600 mb-6 mt-10 text-center">Top 5 Must-Have Blush Brands</h3>
                    <h4 class="text-2xl font-semibold text-pink-600 mb-4">1. Rare Beauty Soft Pinch Liquid Blush</h4>
                    <img src="https://i.imgur.com/WIcv6Ct.gif" alt="Rare Beauty Soft Pinch Liquid Blush" class="w-full h-auto object-cover rounded-lg mb-6">
                    <p class="text-gray-700 mb-6">
                        Rare Beauty's liquid blushes are an absolute phenomenon. They are incredibly pigmented, so a tiny dot goes a long way, and they blend out effortlessly to a natural, dewy finish. The shades are vibrant and flattering on a wide range of skin tones, leaving a beautiful, flushed look.
                    </p>
                    <h4 class="text-2xl font-semibold text-pink-600 mb-4">2. NARS Blush (Orgasm)</h4>
                    <img src="https://placehold.co/600x400/FF69B4/FFFFFF?text=NARS+Blush" alt="NARS Blush Orgasm" class="w-full h-auto object-cover rounded-lg mb-6">
                    <p class="text-gray-700 mb-6">
                        An iconic classic, NARS Orgasm blush lives up to its hype. This peachy-pink shade with a subtle golden shimmer is universally flattering and gives a gorgeous, natural flush. The finely-milled powder formula blends seamlessly and builds easily for more intensity.
                    </p>
                    <h4 class="text-2xl font-semibold text-pink-600 mb-4">3. Hourglass Ambient Lighting Blush</h4>
                    <img src="https://placehold.co/600x400/DDA0DD/FFFFFF?text=Hourglass+Blush" alt="Hourglass Ambient Lighting Blush" class="w-full h-auto object-cover rounded-lg mb-6">
                    <p class="text-gray-700 mb-6">
                        Hourglass blushes are a luxury experience. They combine the perfect amount of pigment with a diffused, luminous finish thanks to their Ambient Lighting Powder technology. They give a soft, airbrushed glow that looks incredibly natural and flattering, never chalky.
                    </p>
                    <h4 class="text-2xl font-semibold text-pink-600 mb-4">4. Milani Baked Blush</h4>
                    <img src="https://placehold.co/600x400/FFA07A/FFFFFF?text=Milani+Blush" alt="Milani Baked Blush" class="w-full h-auto object-cover rounded-lg mb-6">
                    <p class="text-gray-700 mb-6">
                        For an affordable yet high-performing option, Milani's Baked Blushes are incredible. They offer a beautiful radiant finish, making the cheeks look luminous and healthy. The pigmentation is excellent, and they blend effortlessly, often compared to high-end alternatives. Luminoso is a cult favorite for a reason!
                    </p>
                    <h4 class="text-2xl font-semibold text-pink-600 mb-4">5. Glossier Cloud Paint</h4>
                    <img src="https://placehold.co/600x400/FF6347/FFFFFF?text=Glossier+Blush" alt="Glossier Cloud Paint Blush" class="w-full h-auto object-cover rounded-lg mb-6">
                    <p class="text-gray-700 mb-6">
                        If you love a sheer, buildable, and incredibly natural-looking flush, Glossier's Cloud Paint is your match. These gel-cream blushes are super easy to apply and blend, creating a diffused, watercolor-like effect on the cheeks. They give that coveted "lit-from-within" glow and are perfect for a minimalist makeup routine.
                    </p>
                    <h3 class="text-3xl font-bold text-pink-600 mb-6 mt-10 text-center">Top 5 Must-Have Eyeshadow Brands</h3>
                    <h4 class="text-2xl font-semibold text-pink-600 mb-4">1. Natasha Denona: The Pigment Queen</h4>
                    <img src="https://placehold.co/600x400/8A2BE2/FFFFFF?text=Natasha+Denona+Palette" alt="Natasha Denona Eyeshadow Palette" class="w-full h-auto object-cover rounded-lg mb-6">
                    <p class="text-gray-700 mb-6">
                        Natasha Denona palettes are a splurge, but they are absolutely worth every penny for their unparalleled pigmentation and effortless blendability. Her eyeshadows feel like butter and truly pack a punch of color, whether you're working with mattes, shimmers, or metallics.
                    </p>
                    <h4 class="text-2xl font-semibold text-pink-600 mb-4">2. Pat McGrath Labs: The Luxe Shimmers</h4>
                    <img src="https://placehold.co/600x400/B22222/FFFFFF?text=Pat+McGrath+Eyeshadow" alt="Pat McGrath Labs Eyeshadow" class="w-full h-auto object-cover rounded-lg mb-6">
                    <p class="text-gray-700 mb-6">
                        For truly mesmerizing metallics and glitters, Pat McGrath Labs is unmatched. Her Mothership palettes feature some of the most unique and dazzling special shades you'll ever encounter. The quality is supreme, and a single swipe delivers an intense, multi-dimensional sparkle that elevates any eye look.
                    </p>
                    <h4 class="text-2xl font-semibold text-pink-600 mb-4">3. Anastasia Beverly Hills: The Blending Master</h4>
                    <img src="https://placehold.co/600x400/DDA0DD/FFFFFF?text=ABH+Palette" alt="Anastasia Beverly Hills Eyeshadow Palette" class="w-full h-auto object-cover rounded-lg mb-6">
                    <p class="text-gray-700 mb-6">
                        Anastasia Beverly Hills palettes are known for their exceptional blendability and carefully curated color stories. Their matte shades are particularly easy to work with, allowing for seamless transitions and diffused edges. Palettes like Modern Renaissance are a classic for a reason.
                    </p>
                    <h4 class="text-2xl font-semibold text-pink-600 mb-4">4. ColourPop Cosmetics: Affordable Quality</h4>
                    <img src="https://placehold.co/600x400/ADD8E6/00008B?text=ColourPop+Eyeshadow" alt="ColourPop Eyeshadow" class="w-full h-auto object-cover rounded-lg mb-6">
                    <p class="text-gray-700 mb-6">
                        ColourPop continually impresses with its innovative formulas and vast range of affordable eyeshadows. Their Super Shock Shadows are a unique bouncy cream-to-powder formula that applies beautifully with fingers, delivering intense shimmer. Their pressed powder palettes also offer great quality for the price.
                    </p>
                    <h4 class="text-2xl font-semibold text-pink-600 mb-4">5. Urban Decay: The Long-Wear Legends</h4>
                    <img src="https://placehold.co/600x400/808080/FFFFFF?text=Urban+Decay+Palette" alt="Urban Decay Eyeshadow Palette" class="w-full h-auto object-cover rounded-lg mb-6">
                    <p class="text-gray-700 mb-6">
                        Urban Decay palettes, especially the Naked series, revolutionized eyeshadow. They are celebrated for their smooth formulas, blendability, and impressive longevity. Their eyeshadows truly stay put all day without creasing, making them a reliable choice for any look.
                    </p>
                    <p class="text-lg text-gray-700 mt-8 text-center font-semibold">
                        Master the art of color with these incredible blush and eyeshadow brands! Stay tuned for more premium beauty content coming soon to Deli's World!
                    </p>
                    <div class="text-center mt-12">
                        <button class="btn-primary" onclick="showSection('premium-plans-section')">Become a VIP Member!</button>
                    </div>
                </div>
                <!-- END ARTICLE CONTENT -->
            </div>

            <!-- The Lock Overlay -->
            <div id="article-lock-overlay" class="article-lock-overlay">
                <svg class="w-16 h-16 mb-4 text-pink-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 15v2m0 0v2m-6-2a6 6 0 1112 0v2a2 2 0 01-2 2H8a2 2 0 01-2-2v-2z" />
                </svg>
                <p id="lock-message" class="text-xl font-semibold text-gray-800 mb-4">Content Locked</p>
                <p id="lock-subtext" class="text-lg text-gray-600 mb-6 text-center">
                    Please log in or upgrade your membership to view this exclusive content.
                </p>
                <a id="lock-cta-button" href="../#premium-plans-section" class="btn-primary">View Plans & Unlock</a>
                <button id="login-from-article-btn" class="text-pink-500 hover:underline mt-4">Already a member? Log In</button>
            </div>
        </div>
    </main>

    <!-- Login Modal (duplicate from main app, necessary for standalone page) -->
    <div id="loginModal" class="modal-overlay hidden">
      <div class="modal-content w-full max-w-md">
        <h2 class="text-2xl font-bold mb-4 text-center">Log In</h2>
        <input type="email" id="loginEmail" placeholder="Email" class="w-full mb-4 p-2 border rounded" />
        <input type="password" id="loginPassword" placeholder="Password" class="w-full mb-4 p-2 border rounded" />
        <button id="login-button" class="btn-primary w-full">Log In</button>
        <button class="modal-close-btn bg-gray-300 text-gray-800 hover:bg-gray-400" id="login-cancel-btn">Cancel</button>
      </div>
    </div>

    <!-- Custom Message Modal (duplicate from main app, necessary for standalone page) -->
    <div id="messageModal" class="modal-overlay hidden">
      <div class="modal-content">
        <p id="messageText" class="text-lg text-gray-700 mb-4"></p>
        <button class="modal-close-btn" id="message-ok-btn">OK</button>
      </div>
    </div>


    <script type="module">
        // Firebase initialization
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
        import {
            getAuth,
            signInWithEmailAndPassword,
            onAuthStateChanged,
            signInAnonymously,
            signInWithCustomToken
        } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";
        import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBDeFd1HMO3rQfJu5JzqKXkzq-Oz68dQDk",
            authDomain: "deli-sworld-subscription.firebaseapp.com",
            projectId: "deli-sworld-subscription",
            storageBucket: "deli-sworld-subscription.firebasestorage.app",
            messagingSenderId: "678490444860",
            appId: "1:678490444860:web:3294be895f8033e7d01f39",
            measurementId: "G-4T8CL2174E"
        };
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        function showMessage(message) {
            document.getElementById("messageText").textContent = message;
            document.getElementById("messageModal").style.display = "flex";
        }

        async function handleLoginFromArticle() {
            const email = document.getElementById("loginEmail").value;
            const password = document.getElementById("loginPassword").value;

            try {
                await signInWithEmailAndPassword(auth, email, password);
                showMessage("Logged in successfully!");
                document.getElementById("loginModal").style.display = "none";
            } catch (error) {
                showMessage("Login failed: " + error.message);
                console.error("Login error:", error);
            }
        }

        async function getUserSubscriptionTier(uid) {
            if (!uid) return 'free';
            try {
                const userDocRef = doc(db, `artifacts/${appId}/users/${uid}`);
                const userDocSnap = await getDoc(userDocRef);
                if (userDocSnap.exists()) {
                    const userData = userDocSnap.data();
                    return userData.subscriptionTier || 'free';
                }
                return 'free';
            } catch (error) {
                console.error("Error fetching user subscription tier:", error);
                return 'free';
            }
        }

        /**
         * Checks if the current user has access to the article based on their tier.
         * @param {string} currentUserTier - The current user's subscription tier ('free', 'basic', 'vip', 'premium').
         * @param {string} requiredTier - The tier required for this specific article ('free', 'basic', 'vip', 'premium').
         * @returns {boolean} True if the user has access, false otherwise.
         */
        function hasAccess(currentUserTier, requiredTier) {
            const tierOrder = {
                'free': 0,
                'basic': 1,
                'vip': 2,
                'premium': 3
            };
            return tierOrder[currentUserTier] >= tierOrder[requiredTier];
        }

        async function checkArticleAccess() {
            const requiredTier = 'vip'; // This article is for VIP members

            const articleContentWrapper = document.getElementById('article-content-wrapper');
            const articleLockOverlay = document.getElementById('article-lock-overlay');
            const lockMessageElement = document.getElementById('lock-message');
            const lockSubtextElement = document.getElementById('lock-subtext');
            const lockCtaButton = document.getElementById('lock-cta-button');
            const loginFromArticleBtn = document.getElementById('login-from-article-btn');

            if (!articleContentWrapper || !articleLockOverlay || !lockMessageElement || !lockSubtextElement || !lockCtaButton || !loginFromArticleBtn) {
                console.error("Required elements for access control not found.");
                return;
            }

            let user = auth.currentUser;
            let currentTier = 'free';

            if (user) {
                currentTier = await getUserSubscriptionTier(user.uid);
            } else {
                if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                    try {
                        await signInWithCustomToken(auth, __initial_auth_token);
                        user = auth.currentUser; // Update user after custom token sign-in
                    } catch (error) {
                        console.warn("Custom token sign-in failed on article page. Proceeding as unauthenticated.", error);
                    }
                }
            }
            
            // Re-fetch tier if user just signed in via custom token and currentTier is still 'free'
            if (user && currentTier === 'free') { 
                 currentTier = await getUserSubscriptionTier(user.uid);
            }

            if (hasAccess(currentTier, requiredTier)) {
                articleContentWrapper.classList.remove('blurred');
                articleLockOverlay.classList.remove('active');
                articleLockOverlay.style.display = 'none';
            } else {
                articleContentWrapper.classList.add('blurred');
                articleLockOverlay.classList.add('active');
                articleLockOverlay.style.display = 'flex';

                lockCtaButton.style.display = 'block';
                loginFromArticleBtn.style.display = 'block';

                if (!user) {
                    lockMessageElement.textContent = "Content Locked";
                    lockSubtextElement.textContent = "This article is exclusive to VIP members. Please log in or upgrade your membership to view this content.";
                    lockCtaButton.textContent = "View Plans & Unlock";
                    lockCtaButton.href = "../#premium-plans-section";
                } else if (currentTier === 'free' || currentTier === 'basic') {
                    lockMessageElement.textContent = "VIP Content Locked";
                    lockSubtextElement.textContent = `This article is for VIP members only. Your current plan is ${currentTier}. Upgrade your plan to unlock it!`;
                    lockCtaButton.textContent = "Upgrade to VIP";
                    lockCtaButton.href = "../#premium-plans-section";
                    loginFromArticleBtn.style.display = 'none'; // Hide login if already logged in
                } else {
                    lockMessageElement.textContent = "Content Locked";
                    lockSubtextElement.textContent = "Access denied. Please check your membership status.";
                    lockCtaButton.textContent = "View Plans";
                    lockCtaButton.href = "../#premium-plans-section";
                }
            }
        }

        onAuthStateChanged(auth, async (user) => {
            await checkArticleAccess();
            if (user) {
                document.getElementById('loginModal').style.display = 'none';
            }
        });

        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('login-from-article-btn').addEventListener('click', () => {
                document.getElementById('loginModal').style.display = 'flex';
            });
            document.getElementById('login-button').addEventListener("click", handleLoginFromArticle);
            document.getElementById('login-cancel-btn').addEventListener('click', () => {
                document.getElementById('loginModal').style.display = 'none';
            });
            document.getElementById('message-ok-btn').addEventListener('click', () => {
                document.getElementById('messageModal').style.display = 'none';
            });
            checkArticleAccess();
        });
    </script>
</body>
</html>
