<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galactic Liner: Bold Graphic Eyeliner Looks | Tiered Access</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Font: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Firebase SDKs (using v10.12.0) -->
    <script type="module" src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            line-height: 1.6;
            color: #334155;
        }
        .container { max-width: 800px; margin: 0 auto; padding: 20px; }
        .gradient-bg { background: linear-gradient(to right, #fecaca, #fbcfe8); }
        .btn-primary {
            background-color: #ec4899;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            transition: background-color 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .btn-primary:hover { background-color: #db2777; }
        .btn-secondary {
            background-color: #cbd5e1; /* Tailwind gray-300 */
            color: #475569; /* Tailwind gray-600 */
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            transition: background-color 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        .btn-secondary:hover {
            background-color: #94a3b8; /* Tailwind gray-400 */
        }

        /* Styles for the main article lock overlay */
        .article-container {
            position: relative;
            overflow: hidden;
            background-color: #fff;
            border-radius: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 2rem;
        }
        .article-content-wrapper {
            transition: filter 0.3s ease-out, opacity 0.3s ease-out;
        }
        .article-lock-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.95);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10;
            text-align: center;
            padding: 20px;
            border-radius: 1rem;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease-out;
        }
        .article-content-wrapper.blurred {
            filter: blur(8px);
            pointer-events: none;
            user-select: none;
            opacity: 0.3;
        }
        .article-lock-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        /* Styles for the internal VIP section lock overlay */
        .vip-section-wrapper {
            position: relative;
            margin-top: 3rem; /* Space from previous content */
            padding: 1.5rem;
            border-radius: 0.75rem;
            background-color: #fdf2f8; /* Light pink background for VIP section */
            border: 1px solid #fbcfe8; /* Light pink border */
        }
        .vip-section-lock-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.9); /* Opaque white overlay for VIP section */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 5; /* Lower z-index than main overlay, higher than content */
            text-align: center;
            padding: 20px;
            border-radius: 0.75rem;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease-out;
        }
        .vip-section-lock-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }
        .vip-section-content.blurred-internal {
            filter: blur(4px); /* Lighter blur for internal section */
            pointer-events: none;
            user-select: none;
            opacity: 0.5;
        }

        /* Modal styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 0.75rem;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            text-align: center;
            max-width: 400px;
            width: 90%;
        }
        .modal-close-btn {
            @apply mt-4 px-4 py-2 rounded-full bg-gray-200 text-gray-800 hover:bg-gray-300 transition duration-200;
        }
    </style>
</head>
<body>

    <header class="gradient-bg py-6 shadow-md">
        <div class="container mx-auto px-4 flex flex-col md:flex-row justify-between items-center">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4 md:mb-0">Deli's Blog</h1>
            <nav>
                <ul class="flex space-x-6 text-gray-800 text-lg">
                    <li><a href="../index.html" class="hover:underline">Home</a></li>
                    <li><a href="../#blog-posts-list-section" class="hover:underline">All Blog Posts</a></li>
                    <li><a href="../contact.html" class="hover:underline">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container mx-auto px-4 py-12">
        <div class="article-container">
            <div id="article-content-wrapper">
                <!-- START ARTICLE CONTENT FOR "Galactic Liner: Bold Graphic Eyeliner Looks" -->
                <a href="../#blog-posts-list-section" class="text-pink-500 hover:underline mb-6 inline-block">&larr; Back to Blog Posts</a>
                <h1 class="text-4xl font-bold text-gray-800 mb-8 text-center">Galactic Liner: Bold Graphic Eyeliner Looks</h1>
                <img src="https://i.imgur.com/yS2gIyM.png" alt="Galactic Liner: Bold Graphic Eyeliner Looks" class="w-full h-auto object-cover rounded-lg mb-4">
                <div class="article-content max-w-2xl mx-auto text-gray-700">
                    <p class="mb-6">
                        Make your eyes the center of the universe with these bold, futuristic graphic liner looks! Perfect for parties, festivals, or creative nights out, these techniques use metallics, neons, and geometric shapes for serious impact.
                    </p>

                    <!-- BASIC Steps -->
                    <h2 class="text-2xl font-semibold text-blue-600 mb-4">BASIC Steps</h2>
                    <h3 class="text-lg font-semibold text-pink-600 mb-2">Step 1: Prime & Prep</h3>
                    <img src="https://i.imgur.com/tyW54US.png" alt="Galactic Liner Prep" class="w-full h-auto object-cover rounded-lg mb-4">
                    <p class="mb-6">
                        Start with a clean eyelid and apply a matte primer or a light dusting of translucent powder for the sharpest lines and best color payoff.
                    </p>

                    <h3 class="text-lg font-semibold text-pink-600 mb-2">Step 2: Choose Your Liner</h3>
                    <img src="https://i.imgur.com/gteC2Mt.png" alt="Galactic Liner Choose Liner" class="w-full h-auto object-cover rounded-lg mb-6">
                    <p class="mb-6">
                        Use a highly pigmented liquid liner (neon, metallic, white, or classic black), or try a gel or pencil for softer effects. For multicolored looks, pick a few shades that pop!
                    </p>

                    <h3 class="text-lg font-semibold text-pink-600 mb-2">Step 3: Graphic Shapes</h3>
                    <img src="https://i.imgur.com/tyDUaGv.png" alt="Galactic Liner Shapes" class="w-full h-auto object-cover rounded-lg mb-4">
                    <p class="mb-6">
                        Try floating creases, double wings, negative space, or starbursts. For crisp edges, use tape or a stencil. Don’t be afraid to get creative—symmetry is cool, but asymmetry can be striking too!
                    </p>

                    <h3 class="text-lg font-semibold text-pink-600 mb-2">Step 4: Add Cosmic Accents</h3>
                    <img src="https://i.imgur.com/5WEB9Jx.png" alt="Galactic Liner Accents" class="w-full h-auto object-cover rounded-lg mb-6">
                    <p class="mb-6">
                        Elevate your look with tiny dots, stars, or holographic gems along or above your liner. Pair with shimmery eyeshadow or leave the lids bare for extra drama.
                    </p>

                    <h3 class="text-lg font-semibold text-pink-600 mb-2">Step 5: Finishing Touches</h3>
                    <p class="mb-6">
                        Add mascara and wispy lashes if desired. Keep lips and cheeks minimal to let your liner shine!
                    </p>
                    <img src="https://i.imgur.com/lQj4oC5.png" alt="Galactic Liner Inspiration" class="w-full h-auto object-cover rounded-lg my-6">
                    <p class="text-lg text-gray-700 mt-8 text-center font-semibold">
                        You’re ready to conquer the galaxy—one graphic liner at a time. Show off your creations in the Deli’s World VIP Community!
                    </p>

                    <!-- Link to AI-Powered Liner Tools Page -->
                    <div class="text-center mt-12 mb-8">
                        <a href="gemini-liner-tools.html" class="btn-primary inline-flex items-center">
                            Explore AI-Powered Liner Tools Coming Soon ✨
                        </a>
                    </div>

                    <!-- VIP Section with Extra Steps -->
                    <div id="vip-section-wrapper" class="vip-section-wrapper">
                        <div id="vip-section-content" class="vip-section-content">
                            <div class="flex items-center mb-4">
                                <span class="inline-block bg-pink-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow mr-2">VIP TIP</span>
                                <span class="text-pink-700 font-semibold">Exclusive Steps for VIP Members</span>
                            </div>
                            <div class="bg-pink-50 border-l-4 border-pink-300 p-6 rounded-xl">
                                <h3 class="text-lg font-semibold text-pink-700 mb-2">Step 6: Space Dust Highlight</h3>
                                <p class="mb-4">Dab a holographic or iridescent highlighter on the inner corners of your eyes and just below the brow bone. This adds a multidimensional, cosmic effect that catches the light from every angle!</p>

                                <h3 class="text-lg font-semibold text-pink-700 mb-2">Step 7: Interstellar Lower Lash Line</h3>
                                <p class="mb-4">For next-level drama, use a contrasting neon or metallic shade along your lower lash line. Smudge for a nebula-inspired haze or keep it sharp for a galactic pop.</p>

                                <h3 class="text-lg font-semibold text-pink-700 mb-2">Step 8: Glitter Galaxy Freckles</h3>
                                <p class="mb-4">Using glitter gel or adhesive and cosmetic-safe glitter, tap a few "freckles" across your cheekbones and temples. This playful touch echoes stars scattered across the night sky!</p>

                                <h3 class="text-lg font-semibold text-pink-700 mb-2">Step 9: Lock It In</h3>
                                <p class="mb-4">Mist your face with a dewy or illuminating setting spray to seal your look and add a subtle, spacey glow.</p>

                                <h3 class="text-lg font-semibold text-pink-700 mb-2">Step 10: Share Your Look!</h3>
                                <p>
                                    Snap a photo and tag <span class="font-bold text-pink-600">#GalacticLinerVIP</span> and <span class="font-bold text-pink-600">@delisworldmakeup</span> for a chance to be featured in our VIP community gallery!
                                </p>
                            </div>
                        </div>
                        <!-- Internal VIP Lock Overlay -->
                        <div id="vip-section-lock-overlay" class="vip-section-lock-overlay">
                            <svg class="w-10 h-10 mb-2 text-pink-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 17a1.5 1.5 0 001.5-1.5V14a1.5 1.5 0 00-3 0v1.5A1.5 1.5 0 0012 17zm6-6V9a6 6 0 10-12 0v2a2 2 0 00-2 2v6a2 2 0 002 2h12a2 2 0 002-2v-6a2 2 0 00-2-2zM6 9a6 6 0 1112 0v2"></path>
                            </svg>
                            <span id="vip-lock-message" class="text-pink-700 font-semibold text-base mb-2">VIP Members Only</span>
                            <a id="vip-lock-cta-button" href="../#premium-plans-section" class="inline-block text-pink-600 font-semibold underline mb-2">Upgrade to VIP</a>
                            <span class="text-gray-500 text-sm">Unlock exclusive advanced tips.</span>
                        </div>
                    </div>
                </div>
                <!-- END ARTICLE CONTENT -->
            </div>

            <!-- The Main Article Lock Overlay (for Free users) -->
            <div id="article-lock-overlay" class="article-lock-overlay">
                <svg class="w-16 h-16 mb-4 text-pink-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 15v2m0 0v2m-6-2a6 6 0 1112 0v2a2 2 0 01-2 2H8a2 2 0 01-2-2v-2z" />
                </svg>
                <p id="lock-message" class="text-xl font-semibold text-gray-800 mb-4">Content Locked</p>
                <p id="lock-subtext" class="text-lg text-gray-600 mb-6 text-center">
                    This article is exclusive to Basic, VIP, or Premium members. Please log in or upgrade your membership to view this content.
                </p>
                <a id="lock-cta-button" href="../#premium-plans-section" class="btn-primary">View Plans & Unlock</a>
                <button id="login-from-article-btn" class="text-pink-500 hover:underline mt-4">Already a member? Log In</button>
            </div>
        </div>
    </main>

    <!-- Login Modal (duplicate from main app, necessary for standalone page) -->
    <div id="loginModal" class="modal-overlay hidden">
      <div class="modal-content w-full max-w-md">
        <h2 class="text-2xl font-bold mb-4 text-center">Log In</h2>
        <input type="email" id="loginEmail" placeholder="Email" class="w-full mb-4 p-2 border rounded" />
        <input type="password" id="loginPassword" placeholder="Password" class="w-full mb-4 p-2 border rounded" />
        <button id="login-button" class="btn-primary w-full">Log In</button>
        <button class="modal-close-btn bg-gray-300 text-gray-800 hover:bg-gray-400" id="login-cancel-btn">Cancel</button>
      </div>
    </div>

    <!-- Custom Message Modal (duplicate from main app, necessary for standalone page) -->
    <div id="messageModal" class="modal-overlay hidden">
      <div class="modal-content">
        <p id="messageText" class="text-lg text-gray-700 mb-4"></p>
        <button class="modal-close-btn" id="message-ok-btn">OK</button>
      </div>
    </div>


    <script type="module">
        // Firebase initialization
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
        import {
            getAuth,
            signInWithEmailAndPassword,
            onAuthStateChanged,
            signInAnonymously,
            signInWithCustomToken
        } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";
        import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBDeFd1HMO3rQfJu5JzqKXkzq-Oz68dQDk",
            authDomain: "deli-sworld-subscription.firebaseapp.com",
            projectId: "deli-sworld-subscription",
            storageBucket: "deli-sworld-subscription.firebasestorage.app",
            messagingSenderId: "678490444860",
            appId: "1:678490444860:web:3294be895f8033e7d01f39",
            measurementId: "G-4T8CL2174E"
        };
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        function showMessage(message) {
            document.getElementById("messageText").textContent = message;
            document.getElementById("messageModal").style.display = "flex";
        }

        async function handleLoginFromArticle() {
            const email = document.getElementById("loginEmail").value;
            const password = document.getElementById("loginPassword").value;

            try {
                await signInWithEmailAndPassword(auth, email, password);
                showMessage("Logged in successfully!");
                document.getElementById("loginModal").style.display = "none";
            } catch (error) {
                showMessage("Login failed: " + error.message);
                console.error("Login error:", error);
            }
        }

        async function getUserSubscriptionTier(uid) {
            if (!uid) return 'free';
            try {
                const userDocRef = doc(db, `artifacts/${appId}/users/${uid}`);
                const userDocSnap = await getDoc(userDocRef);
                if (userDocSnap.exists()) {
                    const userData = userDocSnap.data();
                    return userData.subscriptionTier || 'free';
                }
                return 'free';
            } catch (error) {
                console.error("Error fetching user subscription tier:", error);
                return 'free';
            }
        }

        /**
         * Checks if the current user has access to a specific content tier.
         * @param {string} currentUserTier - The current user's subscription tier ('free', 'basic', 'vip', 'premium').
         * @param {string} requiredTier - The tier required for the content ('free', 'basic', 'vip', 'premium').
         * @returns {boolean} True if the user has access, false otherwise.
         */
        function hasAccess(currentUserTier, requiredTier) {
            const tierOrder = {
                'free': 0,
                'basic': 1,
                'vip': 2,
                'premium': 3
            };
            return tierOrder[currentUserTier] >= tierOrder[requiredTier];
        }

        async function checkArticleAccess() {
            const basicRequiredTier = 'basic'; // Tier required for the main article content
            const vipRequiredTier = 'vip';     // Tier required for the VIP section

            const articleContentWrapper = document.getElementById('article-content-wrapper');
            const articleLockOverlay = document.getElementById('article-lock-overlay');
            const lockMessageElement = document.getElementById('lock-message');
            const lockSubtextElement = document.getElementById('lock-subtext');
            const lockCtaButton = document.getElementById('lock-cta-button');
            const loginFromArticleBtn = document.getElementById('login-from-article-btn');

            const vipSectionWrapper = document.getElementById('vip-section-wrapper');
            const vipSectionContent = document.getElementById('vip-section-content');
            const vipSectionLockOverlay = document.getElementById('vip-section-lock-overlay');
            const vipLockMessage = document.getElementById('vip-lock-message');
            const vipLockCtaButton = document.getElementById('vip-lock-cta-button');


            if (!articleContentWrapper || !articleLockOverlay || !lockMessageElement || !lockSubtextElement || !lockCtaButton || !loginFromArticleBtn ||
                !vipSectionWrapper || !vipSectionContent || !vipSectionLockOverlay || !vipLockMessage || !vipLockCtaButton) {
                console.error("Required elements for access control not found.");
                return;
            }

            let user = auth.currentUser;
            let currentTier = 'free';

            if (user) {
                currentTier = await getUserSubscriptionTier(user.uid);
            } else {
                if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                    try {
                        await signInWithCustomToken(auth, __initial_auth_token);
                        user = auth.currentUser; // Update user after custom token sign-in
                    } catch (error) {
                        console.warn("Custom token sign-in failed on article page. Proceeding as unauthenticated.", error);
                    }
                }
            }
            
            // Re-fetch tier if user just signed in via custom token and currentTier is still 'free'
            if (user && currentTier === 'free') { 
                 currentTier = await getUserSubscriptionTier(user.uid);
            }

            // --- Handle Main Article Access (Basic+) ---
            if (hasAccess(currentTier, basicRequiredTier)) {
                articleContentWrapper.classList.remove('blurred');
                articleLockOverlay.classList.remove('active');
                articleLockOverlay.style.display = 'none';

                // --- If user has Basic access, check for VIP section access ---
                if (hasAccess(currentTier, vipRequiredTier)) {
                    vipSectionContent.classList.remove('blurred-internal');
                    vipSectionLockOverlay.classList.remove('active');
                    vipSectionLockOverlay.style.display = 'none';
                } else {
                    // User has Basic but not VIP access
                    vipSectionContent.classList.add('blurred-internal');
                    vipSectionLockOverlay.classList.add('active');
                    vipSectionLockOverlay.style.display = 'flex';
                    vipLockMessage.textContent = "VIP Members Only";
                    vipLockCtaButton.textContent = "Upgrade to VIP";
                    vipLockCtaButton.href = "../#premium-plans-section"; // Link to upgrade section
                }

            } else {
                // User does NOT have Basic access (is Free or unauthenticated)
                articleContentWrapper.classList.add('blurred');
                articleLockOverlay.classList.add('active');
                articleLockOverlay.style.display = 'flex';

                lockCtaButton.style.display = 'block';
                loginFromArticleBtn.style.display = 'block';

                // Hide VIP section content if main article is locked
                vipSectionContent.classList.add('blurred-internal');
                vipSectionLockOverlay.classList.remove('active'); // Ensure internal overlay is not active if main is
                vipSectionLockOverlay.style.display = 'none'; // Hide internal overlay

                if (!user) {
                    lockMessageElement.textContent = "Content Locked";
                    lockSubtextElement.textContent = "This article is exclusive to Basic, VIP, or Premium members. Please log in or upgrade your membership to view this content.";
                    lockCtaButton.textContent = "View Plans & Unlock";
                    lockCtaButton.href = "../#premium-plans-section";
                } else if (currentTier === 'free') {
                    lockMessageElement.textContent = "Basic Content Locked";
                    lockSubtextElement.textContent = `This article requires a Basic, VIP, or Premium membership. Your current plan is ${currentTier}. Upgrade to unlock it!`;
                    lockCtaButton.textContent = "Upgrade to Basic";
                    lockCtaButton.href = "../#premium-plans-section";
                    loginFromArticleBtn.style.display = 'none';
                } else {
                    // Fallback, should not be hit if logic is correct
                    lockMessageElement.textContent = "Content Locked";
                    lockSubtextElement.textContent = "Access denied. Please check your membership status.";
                    lockCtaButton.textContent = "View Plans";
                    lockCtaButton.href = "../#premium-plans-section";
                }
            }
        }

        onAuthStateChanged(auth, async (user) => {
            await checkArticleAccess();
            if (user) {
                document.getElementById('loginModal').style.display = 'none';
            }
        });

        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('login-from-article-btn').addEventListener('click', () => {
                document.getElementById('loginModal').style.display = 'flex';
            });
            document.getElementById('login-button').addEventListener("click", handleLoginFromArticle);
            document.getElementById('login-cancel-btn').addEventListener('click', () => {
                document.getElementById('loginModal').style.display = 'none';
            });
            document.getElementById('message-ok-btn').addEventListener('click', () => {
                document.getElementById('messageModal').style.display = 'none';
            });
            checkArticleAccess();
        });
    </script>
</body>
</html>
